<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Sistema de VotaciÃ³n{% endblock %}</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', sans-serif; background: #fdfcfe; color: #333; }
        .top-bar { width: 100%; height: 60px; background: white; border-bottom: 1px solid #e0e0e0; display: flex; align-items: center; justify-content: space-between; padding: 0 25px; position: sticky; top: 0; z-index: 100; }
        .menu-dots { display: flex; align-items: center; gap: 4px; }
        .dot { width: 4px; height: 4px; background: #333; border-radius: 50%; }
        .user-info { display: flex; align-items: center; gap: 20px; }
        .user-info span { color: #555; font-weight: 500; }
        .user-info a { color: #4C46C7; font-weight: 600; text-decoration: none; font-size: 15px; }
        .user-info a:hover { text-decoration: underline; }
        .main-content { padding: 30px 40px; }
        .alert { padding: 16px; border-radius: 6px; margin-bottom: 25px; font-size: 15px; font-weight: 500; }
        .alert-success { background: #f0fdf4; border: 1px solid #bbf7d0; color: #16a34a; }
        .alert-error { background: #fef2f2; border: 1px solid #fecaca; color: #dc2626; }
        .form-group { margin-bottom: 25px; text-align: left; }
        .form-group label { display: block; margin-bottom: 10px; color: #555; font-weight: 500; font-size: 14px; text-transform: uppercase; letter-spacing: 0.8px; }
        .form-group input, .form-group textarea, .form-group select { width: 100%; padding: 15px 16px; border: 1px solid #ccc; border-radius: 6px; font-size: 16px; background: #fdfcfe; transition: all 0.3s ease; }
        .form-group input:focus, .form-group textarea:focus, .form-group select:focus { outline: none; border-color: #4C46C7; background: white; }
        .btn-primary { padding: 14px 45px; background: #4C46C7; color: white; border: none; border-radius: 50px; font-size: 16px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(76, 70, 199, 0.3); }
        .btn-danger { background-color: #ef4444; color: white; padding: 8px 16px; font-size: 0.9rem; border: none; border-radius: 4px; cursor: pointer; }
        .btn-danger:hover { background-color: #dc2626; }
    </style>
    {% block extra_css %}{% endblock %}
</head>
<body>
    <div class="top-bar">
        <div class="menu-dots">
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
        </div>
        {% if current_user.is_authenticated %}
        <div class="user-info">
            {% if current_user.__class__.__name__ == 'Administrador' %}
                <a href="{{ url_for('admin.dashboard') }}">ðŸ“Š Dashboard</a>
                <a href="{{ url_for('admin.candidatos') }}">ðŸ“„ Candidatos</a>
                <a href="{{ url_for('admin.usuarios') }}">ðŸ‘¥ Votantes</a>
            {% endif %}
            <span>ðŸ‘‹ Bienvenido, {{ current_user.nombre }}</span>
            <a href="{{ url_for('logout') }}">Cerrar SesiÃ³n</a>
        </div>
        {% endif %}
    </div>

    <div class="main-content">
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert alert-{{ 'success' if category == 'success' else 'error' }}">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        {% block content %}{% endblock %}
    </div>

    {% block extra_js %}{% endblock %}
</body>
</html>